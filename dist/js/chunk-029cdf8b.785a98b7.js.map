{"version":3,"sources":["webpack:///./src/views/City.vue?a053","webpack:///src/views/City.vue","webpack:///./src/views/City.vue?d738","webpack:///./src/views/City.vue?243d","webpack:///./src/views/City.vue?4ef0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","search","expression","content","length","_l","cat","key","name","params","city","category","_v","_s","myCategory","item","title","img","_e","staticRenderFns","data","loading","htmlContent","searchTimer","watch","$route","getContent","clearTimeout","setTimeout","newValue","computed","categories","$store","state","methods","forEach","element","items","push","clearContent","$http","mounted","component"],"mappings":"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","file":"js/chunk-029cdf8b.785a98b7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentbox\"},[_c('v-container',{staticClass:\"pt-0\"},[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{staticClass:\"pt-0\",attrs:{\"cols\":\"12\"}},[(_vm.content.length > 0)?_c('v-row',_vm._l((_vm.categories),function(cat){return _c('v-col',{key:cat.name,attrs:{\"md\":\"4\",\"sm\":\"12\"}},[_c('router-link',{staticClass:\"c-link\",attrs:{\"to\":{ name: 'Category', params: { city: _vm.city, category: cat.name } }}},[_c('h2',{staticClass:\"category\"},[_vm._v(_vm._s(cat.name))])]),_vm._l((_vm.myCategory(cat.name)),function(item){return _c('span',{key:item.key,staticClass:\"item pl-2\"},[_c('router-link',{attrs:{\"to\":{ name: 'Post', params: { city: _vm.city, category: cat.name, key: item.key } }}},[_vm._v(_vm._s(item.title))]),_c('v-img',{attrs:{\"src\":item.img,\"max-height\":\"200px\",\"contain\":\"\"}}),_c('v-divider'),_c('div')],1)})],2)}),1):_vm._e(),(_vm.loading)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}}):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"contentbox\">\n    <v-container class=\"pt-0\">\n      <v-text-field v-model=\"search\" append-icon=\"mdi-magnify\" label=\"Search\" single-line></v-text-field>\n      <v-row justify=\"center\">\n        <v-col cols=\"12\" class=\"pt-0\">\n          <v-row v-if=\"content.length > 0\">\n            <v-col v-for=\"cat in categories\" md=\"4\" sm=\"12\" :key=\"cat.name\">\n              <router-link\n                class=\"c-link\"\n                :to=\"{ name: 'Category', params: { city: city, category: cat.name } }\"\n              >\n                <h2 class=\"category\">{{cat.name}}</h2>\n              </router-link>\n\n              <span v-for=\"item in myCategory(cat.name)\" :key=\"item.key\" class=\"item pl-2\">\n                <router-link\n                  :to=\"{ name: 'Post', params: { city: city, category: cat.name, key: item.key } }\"\n                >{{item.title}}</router-link>\n                <v-img :src=\"item.img\" max-height=\"200px\" contain></v-img>\n                <v-divider></v-divider>\n                <div></div>\n              </span>\n            </v-col>\n          </v-row>\n          <v-progress-circular v-if=\"loading\" indeterminate color=\"primary\"></v-progress-circular>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      city: \"\",\n      loading: false,\n      htmlContent: null,\n      content: [],\n      search: \"\",\n      searchTimer: null\n    };\n  },\n  watch: {\n    $route() {\n      this.city = this.$route.params.city;\n      this.getContent(this.city);\n    },\n    search(newValue) {\n      const city = this.$route.params.city;\n      if (this.searchTimer) {\n        clearTimeout(this.searchTimer);\n      }\n      this.searchTimer = setTimeout(this.getContent, 350, city, newValue);\n    }\n  },\n  computed: {\n    categories() {\n      return this.$store.state.categories;\n    }\n  },\n  methods: {\n    myCategory(name) {\n      let items = [];\n      this.content.forEach(element => {\n        if (element.category == name) items.push(element);\n      });\n      return items;\n    },\n    clearContent() {\n      this.htmlContent = null;\n      this.content = [];\n    },\n    getContent(city, search) {\n      search = search != null ? search : \"\";\n      this.clearContent();\n      if (city != \"\") {\n        this.loading = true;\n        this.$http\n          .get(\n            this.$HOST +\n              \"/api/search/content?args=\" +\n              JSON.stringify({ city: city }) +\n              \"&search=\" +\n              search,\n            { withCredentials: true }\n          )\n          .then(resp => {\n            this.content = resp.data;\n            this.loading = false;\n          })\n          .catch(error => {\n            console.log(error);\n            this.loading = false;\n          });\n      }\n    }\n  },\n  mounted() {\n    this.city = this.$route.params.city;\n    this.getContent(this.city);\n  }\n};\n</script>\n\n<style>\n.category {\n  background-color: rgba(245, 245, 245, 0.89);\n}\n.c-link {\n  text-decoration: none !important;\n}\n.bgg {\n  background-color: grey;\n}\n.item {\n  color: #1976d2;\n  cursor: pointer;\n  font-size: 1.17em;\n  font-weight: bold;\n  /* background-color: rgba(245, 245, 245, 0.89); */\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./City.vue?vue&type=template&id=3f2320ae&\"\nimport script from \"./City.vue?vue&type=script&lang=js&\"\nexport * from \"./City.vue?vue&type=script&lang=js&\"\nimport style0 from \"./City.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}